/*!
 * remark (http://getbootstrapadmin.com/remark)
 * Copyright 2016 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
!function(global,factory){if("function"==typeof define&&define.amd)define("/Plugin/asselectable",["exports","jquery"],factory);else if("undefined"!=typeof exports)factory(exports,require("jquery"));else{var mod={exports:{}};factory(mod.exports,global.jQuery),global.PluginAsselectable=mod.exports}}(this,function(exports,_jquery){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _jquery2=babelHelpers.interopRequireDefault(_jquery),pluginName="asSelectable",defaults={allSelector:".selectable-all",itemSelector:".selectable-item:not([disabled])",rowSelector:"tr",rowSelectable:!1,rowActiveClass:"active",onChange:null},asSelectable=function(){function asSelectable(element,options){babelHelpers.classCallCheck(this,asSelectable),this.element=element,this.$element=(0,_jquery2.default)(element),this.options=_jquery2.default.extend({},defaults,options,this.$element.data()),this.init()}return babelHelpers.createClass(asSelectable,[{key:"init",value:function(){var self=this,options=this.options;self.$element.on("change",options.allSelector,function(){var value=(0,_jquery2.default)(this).prop("checked");self.getItems().each(function(){var $one=(0,_jquery2.default)(this);$one.prop("checked",value).trigger("change",[!0]),self.selectRow($one,value)})}),self.$element.on("click",options.itemSelector,function(e){var $one=(0,_jquery2.default)(this),value=$one.prop("checked");self.selectRow($one,value),e.stopPropagation()}),self.$element.on("change",options.itemSelector,function(){var $all=self.$element.find(options.allSelector),$row=self.getItems(),total=$row.length,checked=self.getSelected().length;total===checked?$all.prop("checked",!0):$all.prop("checked",!1),self._trigger("change",checked),"function"==typeof options.callback&&options.callback.call(this)}),options.rowSelectable&&self.$element.on("click",options.rowSelector,function(e){if("checkbox"!==e.target.type&&"button"!==e.target.type&&"a"!==e.target.tagName.toLowerCase()&&!(0,_jquery2.default)(e.target).parent("div.checkbox-custom").length){var $checkbox=(0,_jquery2.default)(options.itemSelector,this),value=$checkbox.prop("checked");$checkbox.prop("checked",!value),self.selectRow($checkbox,!value)}})}},{key:"selectRow",value:function(item,value){value?item.parents(this.options.rowSelector).addClass(this.options.rowActiveClass):item.parents(this.options.rowSelector).removeClass(this.options.rowActiveClass)}},{key:"getItems",value:function(){return this.$element.find(this.options.itemSelector)}},{key:"getSelected",value:function(){return this.getItems().filter(":checked")}},{key:"_trigger",value:function(eventType){var method_arguments=Array.prototype.slice.call(arguments,1),data=[this].concat(method_arguments);this.$element.trigger(pluginName+"::"+eventType,data),eventType=eventType.replace(/\b\w+\b/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1)});var onFunction="on"+eventType;"function"==typeof this.options[onFunction]&&this.options[onFunction].apply(this,method_arguments)}}],[{key:"_jQueryInterface",value:function(options){for(var _this=this,_len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];if("string"!=typeof options)return this.each(function(){_jquery2.default.data(this,pluginName)||_jquery2.default.data(this,pluginName,new asSelectable(this,options))});var _ret=function(){var method=options;if(/^\_/.test(method))return{v:!1};if(!/^(get)/.test(method))return{v:_this.each(function(){var api=_jquery2.default.data(this,pluginName);api&&"function"==typeof api[method]&&api[method].apply(api,args)})};var api=_this.first().data(pluginName);return api&&"function"==typeof api[method]?{v:api[method].apply(api,args)}:void 0}();return"object"===("undefined"==typeof _ret?"undefined":babelHelpers.typeof(_ret))?_ret.v:void 0}}]),asSelectable}();_jquery2.default.fn[pluginName]=asSelectable._jQueryInterface,_jquery2.default.fn[pluginName].constructor=asSelectable,_jquery2.default.fn[pluginName].noConflict=function(){return _jquery2.default.fn[pluginName]=window.JQUERY_NO_CONFLICT,asSelectable._jQueryInterface},exports.default=asSelectable});